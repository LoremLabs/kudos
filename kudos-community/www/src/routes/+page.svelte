<script>
	import { onMount } from 'svelte';

	// see if the query params contained a favicon
	let faviconItem;
	let favicon = '/favicon';

	const MAX_FAVICONS = 27;

	onMount(() => {
		faviconItem = parseInt(new URLSearchParams(window.location.search).get('favicon'), 10);

		// add one
		faviconItem = faviconItem ? faviconItem + 1 : 1;

		// if we're over MAX_FAVICONS, loop back to 1
		faviconItem = faviconItem > MAX_FAVICONS ? 1 : faviconItem;
	});
</script>

<div
	class="flex flex-row absolute top-0 w-full h-screen bg-repeat"
	style="background-image: url(/patterns/kudos-01.svg)"
>
	<div class="w-full p-4 flex flex-col justify-center items-center h-screen z-10 mx-4">
		<a href={`?favicon=${encodeURIComponent(faviconItem)}`} target="_top">
			<div class="text-[#389D61]">
				<svg viewBox="0 0 991 212" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
					<g fill="currentColor" stroke="currentColor">
						<rect y="6" width="40" height="40" />
						<rect y="46" width="40" height="40" />
						<rect x="40" y="86" width="40" height="40" />
						<rect x="120" y="6" width="40" height="40" />
						<rect x="80" y="46" width="40" height="40" />
						<rect x="80" y="126" width="40" height="40" />
						<rect x="120" y="166" width="40" height="40" />
						<rect y="86" width="40" height="40" />
						<rect y="126" width="40" height="40" />
						<rect y="166" width="40" height="40" />
						<rect x="390" y="166" width="40" height="40" />
						<rect x="390" y="126" width="40" height="40" />
						<rect x="390" y="86" width="40" height="40" />
						<rect x="390" y="46" width="40" height="40" />
						<rect x="390" y="6" width="40" height="40" />
						<rect x="430" y="6" width="40" height="40" />
						<rect x="470" y="6" width="40" height="40" />
						<rect x="510" y="46" width="40" height="40" />
						<rect x="510" y="86" width="40" height="40" />
						<rect x="470" y="166" width="40" height="40" />
						<rect x="510" y="126" width="40" height="40" />
						<rect x="430" y="166" width="40" height="40" />
						<path
							d="M189.16 127.35V5.79999H232.06V127.35C232.06 141.078 235.873 151.946 243.5 159.954C251.317 167.771 261.804 171.68 274.96 171.68C288.116 171.68 298.507 167.771 306.134 159.954C313.951 151.946 317.86 141.078 317.86 127.35V5.79999H360.76V127.35C360.76 153.09 353.038 173.587 337.594 188.84C322.15 204.093 301.272 211.72 274.96 211.72C248.648 211.72 227.77 204.093 212.326 188.84C196.882 173.587 189.16 153.09 189.16 127.35Z"
						/>
						<path
							d="M603.47 181.118C582.497 160.526 572.01 135.453 572.01 105.9C572.01 76.3467 582.497 51.3693 603.47 30.968C624.634 10.376 650.851 0.0799918 682.12 0.0799918C713.389 0.0799918 739.511 10.376 760.484 30.968C781.648 51.3693 792.23 76.3467 792.23 105.9C792.23 135.453 781.648 160.526 760.484 181.118C739.511 201.519 713.389 211.72 682.12 211.72C650.851 211.72 624.634 201.519 603.47 181.118ZM635.788 58.71C623.776 70.9127 617.77 86.6427 617.77 105.9C617.77 125.157 623.776 140.983 635.788 153.376C647.991 165.579 663.435 171.68 682.12 171.68C700.805 171.68 716.154 165.579 728.166 153.376C740.369 140.983 746.47 125.157 746.47 105.9C746.47 86.6427 740.369 70.9127 728.166 58.71C716.154 46.3167 700.805 40.12 682.12 40.12C663.435 40.12 647.991 46.3167 635.788 58.71ZM809.345 143.08H853.675C855.391 148.8 858.156 153.853 861.969 158.238C870.359 168.153 882.847 173.11 899.435 173.11C924.222 173.11 936.615 165.483 936.615 150.23C936.615 146.417 935.281 142.985 932.611 139.934C930.133 136.883 926.129 134.214 920.599 131.926C915.261 129.638 910.017 127.827 904.869 126.492C899.912 124.967 893.429 123.155 885.421 121.058C884.277 120.867 883.324 120.677 882.561 120.486C881.989 120.295 881.131 120.105 879.987 119.914C879.034 119.533 878.176 119.247 877.413 119.056C837.755 109.523 817.925 90.3607 817.925 61.57C817.925 44.41 824.885 29.9193 838.803 18.098C852.913 6.08599 871.693 0.0799918 895.145 0.0799918C925.652 0.0799918 948.723 10.376 964.357 30.968C970.84 40.12 975.416 50.3207 978.085 61.57H933.755C932.611 57.566 930.419 53.7527 927.177 50.13C919.932 42.5033 909.255 38.69 895.145 38.69C884.277 38.69 876.079 40.7873 870.549 44.982C865.02 48.986 862.255 54.0387 862.255 60.14C862.255 71.1987 874.839 79.588 900.007 85.308C906.49 86.8333 910.494 87.7867 912.019 88.168C913.735 88.5493 917.644 89.598 923.745 91.314C930.037 93.03 934.232 94.46 936.329 95.604C938.617 96.5573 942.335 98.178 947.483 100.466C952.822 102.563 956.54 104.565 958.637 106.472C960.925 108.379 963.785 110.953 967.217 114.194C970.84 117.245 973.414 120.391 974.939 123.632C976.465 126.873 977.799 130.687 978.943 135.072C980.278 139.267 980.945 143.843 980.945 148.8C980.945 166.532 973.795 181.499 959.495 193.702C945.195 205.714 925.175 211.72 899.435 211.72C865.497 211.72 840.615 200.28 824.789 177.4C817.353 167.485 812.205 156.045 809.345 143.08Z"
						/>
					</g>
				</svg>
			</div>
			<h1 class="text-5xl lg:text-8xl font-bold text-center z-20 pl-12 lg:pl-48 mr-2 lg:mr-6">
				<span class="text-gray-400">.</span><span class="text-black">community</span>
			</h1>
		</a>
	</div>
</div>
